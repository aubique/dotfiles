"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"   Filename: ~/.ideavimrc                                                                                        "
" Maintainer: Alexandre M. <alexander.matveev@univ-ubs.fr>                                                    "
"        URL: http://github.com/aubique/dotfiles/                                                             "
"                                                                                                             "
" IdeaVim plug-in settings for IntelliJ IDEA
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

" Plugins
set surround
set commentary

let mapleader="\"
" Shortcuts overwritten in .ideavimrc
lnoremap <C-v> <Esc>:action $Paste<CR>
noremap <C-a-e> :action RecentFiles<CR>
noremap <C-a-n> :action GotoClass<CR>
noremap <C-a-q> :action QuickJavaDoc<CR>
noremap <C-a-Up> :action MoveLineUp<CR>
noremap <C-a-Down> :action MoveLineDown<CR>
noremap <C-h> :action TypeHierarchy<CR>
nnoremap <C-z> :action RecentChanges<CR>

" Shortcuts overwritten in IntelliJ keyboard settings
"nnoremap <C-a-w> :action EditorSelectWord<CR>
"inoremap <C-a-j> :action InsertLiveTemplate<CR>
"nnoremap <C-a-r> :action RefactoringMenu<CR>

" Run and debug
nnoremap <leader>ff :action ReformatCode<CR>
nnoremap <leader>fr :action Run<CR>
nnoremap <leader>fd :action Debug<CR>

" Editor binding
noremap <leader><Return> :action EditorCompleteStatement<CR>
nnoremap <leader>qa :action EditorSelectWord<CR>
nnoremap <leader>qw :action EditorSelectLine<CR>
nnoremap <leader>x :action CloseEditor<CR>
nnoremap <leader>X :action ReopenClosedTab<CR>
noremap <Leader>[ :action EditorCodeBlockStart<CR>
noremap <Leader>] :action EditorCodeBlockEnd<CR>

" Jedi-like binding
nnoremap <leader>R :action RenameElement<CR>
nnoremap <leader>U :action FindUsages<CR>
nnoremap <leader>gs :action GotoSuperMethod<CR>
nnoremap <leader>gq :action QuickImplementations<CR>
nnoremap <leader>gd :action GotoDeclaration<CR>
nnoremap <leader>gi :action GotoImplementation<CR>
nnoremap <leader>gt :action Forward<CR>
nnoremap <leader>gT :action Back<CR>
nnoremap <leader>et :action GotoNextError<CR>
nnoremap <leader>eT :action GotoPreviousError<CR>

" Turn absolute numbers on
set number
set nu

" Highlight current line and matching brackets
set cursorline
set showmatch

" Show command in bottom bar and autocomplete for command menu
set showcmd
set wildmenu
set timeoutlen=500

" Autoindent
set tabstop=4
set shiftwidth=4
set softtabstop=4
set expandtab
filetype indent on

" Make backspace more powerful
set backspace=indent,eol,start

" Display 5 lines above/below the cursor when scrolling with a mouse.
set scrolloff=5

" Highlight matces, incremental, case-insenstive and smartcase search
set hlsearch
set incsearch
set ignorecase
set smartcase

" Display different types of white spaces
set list
set listchars=tab:›\ ,trail:•,extends:#,nbsp:.

" Prevent x from overriding what's in the clipboard.
noremap x "_x
noremap X "_X

" Integrate with system clipboard
set clipboard=unnamed,unnamedplus
